
<app-header></app-header>
<a href="javascript:void(0);" (click)="backClicked()" class="back_navigator">
  <img src="assets/images/back-btn.png" alt="back button" title="Back to prevoius view">
</a>
<section class="top-space container">
  <div class="row padd-t-b pb-0">
    <div class="col-lg-4 offset-lg-4 col-md-6 offset-md-3 saving-acc-box">
      <div class="inner-box">
        <h6 class="extra-hding">
          <span *ngIf="status === '1'">Savings Account</span>
          <span *ngIf="status === '2'">Payout Account</span>
        </h6>
        <h2 class="main-hding">
          <span *ngIf="!isLoading">
            {{ avgAmount| currency:'GBP': 'symbol' : '1.0-0' }}
          </span>
          <span *ngIf="isLoading">
            <i class="fa fa-refresh fa-spin"></i>
          </span>
        </h2>
        <p class="sub-para m-0">
          <span *ngIf="status === '1'">Total savings balance this cycle</span>
          <span *ngIf="status === '2'">Total payout this cycle</span></p>
      </div>
    </div>
    <!-- <div class="col-lg-12 text-center mt-3">
      <a
        href="javascript(void);"
        data-toggle="modal"
        data-target="#applyModal"
        class="btn-cstm btn-blue mt-sm-4 mt-0 d-inline-block"
        >Request Payout</a
      >
    </div> -->
    <!-- <div class="col-lg-4 col-md-6 saving-acc-box">
      <div class="inner-box">
        <h6 class="extra-hding">
          <span *ngIf="status === '1'">Total Savings Account</span>
          <span *ngIf="status === '2'"> Total Payout Account</span>
        </h6>
        <h2 class="main-hding">
          <span *ngIf="!isLoading">
            Â£ {{totalAvgAmount| number:'1.0-0'}}
          </span>
          <span *ngIf="isLoading">
            <i class="fa fa-refresh fa-spin"></i>
          </span>
        </h2>
        <p class="sub-para m-0">
          <span *ngIf="status === '1'">Total savings</span>
          <span *ngIf="status === '2'">Total payout</span></p>
      </div>
    </div> -->
  </div>
</section>

<section class="savings-box container">
  <div class="row">
    <div class="col-md-12">
      <ul class="nav nav-tabs bg-blue" id="myTab">
        <li class="nav-item">
          <a class="nav-link active" id="savings-tab" data-toggle="tab" href="#savings" (click)="onSetOption('1')">Savings</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="payout-tab" data-toggle="tab" href="#payout" (click)="onSetOption('2')">Payout</a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="savings">
          <app-saving-page (lifecycleUpdateId)="cycleAvg($event)" *ngIf="status === '1'"></app-saving-page>
        </div>
        <div class="tab-pane fade" id="payout">
          <app-payout-page (lifecycleUpdateId)="payoutAvg($event)" *ngIf="status === '2'"></app-payout-page>
        </div>
      </div>
    </div>
  </div>
</section>
<app-sub-menu></app-sub-menu>
<app-mobile-menu></app-mobile-menu>
<app-footer></app-footer>




 <!-- Modal Start-->
 <div class="modal fade" id="applyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header border-0 justify-content-center">
        <div>
          <!-- <h5 class="modal-title" id="applyModalLabel">Request Payout</h5> -->
          <!-- <p class="para-md">Lorem ipsum dolor sit amet, consectetur adipiscing elit Pellentesque dapibus interdum auctor. Donec gravida dolor at mollis fringilla elit quota lesmon.</p> -->
        </div>
        <button type="button" class="modal-close" data-dismiss="modal" aria-label="Close" id="closePopupRequest" (click)="onClose()">
          <img src="assets/images/close.png">
        </button>
      </div>
      <form class="theme-form">
      <!-- <div class="modal-body border-0 pb-0">
          <div class="container">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-12">
                <label>Amount</label>
                <div class="form-group">
                  <input type="text" formControlName="amount" placeholder="Enter Amount" class="form-control">
                  <div class="icon">
                    <img src="assets/images/amt.png" align="" alt="" title="">
                  </div>
                  <span class="error-form" *ngIf="form.get('amount').invalid  && form.get('amount').touched">
                    Please enter a amount.
                  </span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-12">
                <label>tell us when you want this to be paid to you</label>
                <div class="form-group">
                  <input type="date" formControlName="date" class="form-control">
                  <div class="icon">
                    <img src="assets/images/calendar.png" align="" alt="" title="">
                  </div>
                  <span class="error-form" *ngIf="form.get('date').invalid  && form.get('date').touched">
                    Please enter a date.
                  </span>
                </div>
              </div>
              <div class="offset-lg-3 col-lg-6 col-md-6 col-sm-12">
                <div class="form-group">
                  <textarea formControlName="reason" placeholder="Any comments/notes" class="form-control"></textarea>
                  <span class="error-form" *ngIf="form.get('reason').invalid  && form.get('reason').touched">
                    Please enter a reason.
                  </span>
                </div>
              </div>
            </div>
          </div>
      </div> -->
      <div class="modal-footer justify-content-center border-0">
        <button class="btn-cstm btn-blue mt-3 min-width-230" type="submit" [disabled]="isLoading">
          <span (click)="onSave()">Apply</span>
        </button>
      </div>
    </form>
    </div>
  </div>
  
</div>
<!-- Modal end-->